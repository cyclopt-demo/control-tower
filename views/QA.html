<!doctype html>
<!-- ASSIGN OUR ANGULAR MODULE -->
<html ng-app="qaApp">
<% include header %>
<% include navbar %>
<!-- SET THE CONTROLLER -->
<body class="container">
<!---Tabs creation, selection of active and set of default to the requirements tab-->
	<!--<section class="tab" ng-controller="TabController as tab">-->
	<section class="tab" ng-controller="TabController as tab">
		<!-- the tabs of our results -->
        <ul class="nav nav-tabs">
        	<li ng-class="{active: tab.isSet(1)}">
	            <a href ng-click="tab.setTab(1)">Search</a>
            </li>
          	<li ng-class="{active: tab.isSet(2)}">
	            <a href ng-click="tab.setTab(2)">Requirements</a>
            </li>
	        <li ng-class="{active: tab.isSet(3)}">
	            <a href ng-click="tab.setTab(3)">Use Case Diagrams</a>
            </li>
          	<li ng-class="{active: tab.isSet(4)}">
	            <a href ng-click="tab.setTab(4)">Activity Diagrams</a>
            </li>
            <li ng-class="{active: tab.isSet(5)}">
	            <a href ng-click="tab.setTab(5)">Analysis Class Diagrams</a>
            </li>
            <li ng-class="{active: tab.isSet(6)}">
	            <a href ng-click="tab.setTab(6)">Storyboards Diagrams</a>
            </li>
            <li ng-class="{active: tab.isSet(7)}">
	            <a href ng-click="tab.setTab(7)">Source Codes</a>
            </li>
            <li ng-class="{active: tab.isSet(8)}">
	            <a href ng-click="tab.setTab(8)">S-CASE services</a>
            </li>
        </ul>

        <div ng-show="tab.isSet(1)">
			<div class="panel panel-info">
		  		<div class="panel-heading">Search</div>
			  	<div class="panel-body" ng-controller="SearchController as searchCtrl">
			        <form name="queryForm" ng-controller="AdvancedTabController as advancedTab">
				        <ul class="nav nav-tabs">
				        	<li ng-class="{active: advancedTab.isSet(1)}">
					            <a href ng-click="advancedTab.setTab(1)">Simple Search</a>
				            </li>
				          	<li ng-class="{active: advancedTab.isSet(2)}">
					            <a href ng-click="advancedTab.setTab(2)">Advanced Search</a>
				            </li>
			            </ul>
			            <br>
						<div class="input-group">
							<span class="input-group-addon">
							<textarea ng-model="searchCtrl.searchQuery.operations" class="form-control" placeholder="Operations Query (separated by comma)" title="Operations"></textarea>
							</span>
						</div>
			            <div ng-show="advancedTab.isSet(2)">
							<h3>Domain of Interest (select only one or All)</h3>
							<div class="list-group">
								<div ng-repeat="domain in searchCtrl.domains">
							      	<li class="list-group-item" ng-if="searchCtrl.parentFilter(domain)">
								        <input  type="checkbox" checklist-model="searchCtrl.searchQuery.domainQuery" checklist-value="domain">{{domain.Category}}
							      	</li>
						      	</div>
					    	</div><!-- /input-group -->
					    	<button ng-click="searchCtrl.checkAllDomains()" style="margin-right: 5px">Check all</button>
					    	<button ng-click="searchCtrl.uncheckAllDomains()" style="margin-right: 5px">UnCheck all</button>
					    	<h3>Sub-Domain(s) of Interest</h3>
							<div class="input-group" ng-repeat="subdomain in searchCtrl.subdomains">
						      	<span class="input-group-addon">
							        <input type="checkbox" aria-label="..." checklist-model="searchCtrl.searchQuery.subdomainQuery" checklist-value="subdomain">{{subdomain.name}}
						      	</span>
					    	</div><!-- /input-group -->
					    	<button ng-click="searchCtrl.checkAllSubDomains()" style="margin-right: 5px">Check all</button>
					    	<button ng-click="searchCtrl.uncheckAllSubDomains()" style="margin-right: 5px">UnCheck all</button>
					    	<h3>Requirements Classification</h3>
							<div class="input-group">
								<span class="input-group-addon">
						        <select ng-init="searchCtrl.searchQuery.requirementsClass = searchCtrl.requirementsClasses[0]" ng-model="searchCtrl.searchQuery.requirementsClass" ng-options="reqsClass.name for reqsClass in searchCtrl.requirementsClasses">
						        </select>
						        </span>
					     	</div>
			            </div>
			            <br>
						<fieldset class="form-group">
				        	<input type="submit" class="btn btn-primary pull-right" ng-click="searchCtrl.doSearch()" value="Submit Query" />
				      	</fieldset>
					</form>	
				</div>
			</div>
		</div>
        <!-- Requirements -->
        <div ng-show="tab.isSet(2)">
			<div class="panel panel-info">
		  		<div class="panel-heading">Requirements</div>
			  	<div class="panel-body" ng-controller="SearchController as searchCtrl">
				  	<ul class="list-group" ng-repeat="req in searchCtrl.requirements">
				  	  	<li class="list-group-item">Classification: {{req.requirement}}</li>
					  	<li class="list-group-item">Text: {{req.text}} </li>
					  	<li class="list-group-item">Belong to Project: {{req.projectId}}</li>
					  	<li class="list-group-item">Link to File: {{req.link}}</li>
					  	<li class="list-group-item">Language: {{req.language}}</li>
					</ul>
			  	</div>
		  	</div>
      	</div>
		<!-- Use case Diagrams -->
        <div ng-show="tab.isSet(3)">
	        <div class="panel panel-info">
			  	<div class="panel-heading">Use Case Diagrams</div>
			  	<div class="panel-body" ng-controller="SearchController as searchCtrl">
			  		<ul class="list-group" ng-repeat="usecasediagram in searchCtrl.usecasediagrams">
			  			<!-- separate panel for actors -->
			  			<li class="list-group-item">
				  			<div class="panel-heading">Actors</div>
				  			<div class="panel-body">
					 			<ul class="list-group">
					 				<li class="list-group-item" ng-repeat="actor in usecasediagram.actors">Actor: {{actor}}</li>
					 			</ul>
				 			</div>
			 			</li>
			 			<!-- separate panel for Use Cases -->
			 			<li class="list-group-item">
				  			<div class="panel-heading">Use Case</div>
				  			<div class="panel-body">
					 			<ul class="list-group">
					 				<li class="list-group-item" ng-repeat="usecase in usecasediagrams.usecases">Usecase:{{usecase}}</li>
					 			</ul>
				 			</div>
			 			</li>
					  	<li class="list-group-item">Belong to Project: {{usecase.projectId}}</li>
				  	  	<li class="list-group-item">Format: {{usecase.format}}</li>
					  	<li class="list-group-item">Link to File: {{usecase.link}}</li>
				  		<li class="list-group-item">Relation: {{req.relation}}</li>
					</ul>
			  	</div>
			</div> 
        </div>

		<!---display usecases data-->
        <div ng-show="tab.isSet(4)">
         	<div class = "usecases row" ng-controller="SearchController as searchCtrl" ng-repeat="usecase in searchCtrl.usecases">
		
			</div>
        </div>

        <!---display activitydiagrams data-->
        <div ng-show="tab.isSet(5)">
         	<div class = "activitydiagrams row" ng-controller="SearchController as searchCtrl" ng-repeat="acitivitydiagram in searchCtrl.activitydiagrams">
		
			</div>
        </div>

        <!---display classdiagrams data-->
        <div ng-show="tab.isSet(6)">
			<div class = "classdiagrams row" ng-controller="SearchController as searchCtrl" ng-repeat="classdiagram in searchCtrl.classdiagrams">
				
			</div>
        </div>

		<!---display storyboards data-->
        <div ng-show="tab.isSet(7)">
			<div class = "storyboards row" ng-controller="SearchController as searchCtrl" ng-repeat="storyboard in searchCtrl.storyboards ">
			
			</div>
        </div>

        <!---display sourcecodes data-->
        <div ng-show="tab.isSet(8)">
         	<div class = "sourcecodes row" ng-controller="SearchController as searchCtrl" ng-repeat="sourcecode in searchCtrl.sourcecodes">
		
			</div>
        </div>

        <!---display services data-->
        <div ng-show="tab.isSet(9)">
         	<div class = "services row"  ng-controller="SearchController as searchCtrl" ng-repeat="service in searchCtrl.scaseservices">
		
			</div>
        </div>

        
  	</section>
	
	
	
</body>
</html>
<!doctype html>
<!-- ASSIGN OUR ANGULAR MODULE -->
<html ng-app="qaApp">
<% include header %>
<% include navbar %>
<!-- SET THE CONTROLLER -->
<body class="container">
<!---Tabs creation, selection of active and set of default to the requirements tab-->
	<!--<section class="tab" ng-controller="TabController as tab">-->
	<section class="tab" ng-controller="TabController as tab">
		<!-- the tabs of our results -->
        <ul class="nav nav-pills">
        	<li ng-class="{active: tab.isSet(1)}">
	            <a href ng-click="tab.setTab(1)">Search</a>
            </li>
          	<li ng-class="{active: tab.isSet(2)}">
	            <a href ng-click="tab.setTab(2)">Requirements</a>
            </li>
	        <li ng-class="{active: tab.isSet(3)}">
	            <a href ng-click="tab.setTab(3)">Use Case Diagrams</a>
            </li>
          	<li ng-class="{active: tab.isSet(4)}">
	            <a href ng-click="tab.setTab(4)">Activity Diagrams</a>
            </li>
            <li ng-class="{active: tab.isSet(5)}">
	            <a href ng-click="tab.setTab(5)">Analysis Class Diagrams</a>
            </li>
            <li ng-class="{active: tab.isSet(6)}">
	            <a href ng-click="tab.setTab(6)">Storyboards Diagrams</a>
            </li>
            <li ng-class="{active: tab.isSet(7)}">
	            <a href ng-click="tab.setTab(7)">Source Codes</a>
            </li>
            <li ng-class="{active: tab.isSet(8)}">
	            <a href ng-click="tab.setTab(8)">S-CASE services</a>
            </li>
        </ul>
        <!-- tab of search -->
        <div ng-show="tab.isSet(1)">
			<div class="panel panel-info">
		  		<div class="panel-heading"><h2 class="panel-title">Search</h2></div>
			  	<div class="panel-body" ng-controller="SearchController as searchCtrl"><!--Controller for the search options-->
			        <form name="queryForm" ng-controller="SearchModeTabController as searchModeTab"><!--controller for the simple or advanced search tabs-->
				        <ul class="nav nav-tabs"><!--the tabs of search-->
				        	<li ng-class="{active: searchModeTab.isSet(1)}">
					            <a href ng-click="searchModeTab.setTab(1)">Simple Search</a>
				            </li>
				          	<li ng-class="{active: searchModeTab.isSet(2)}">
					            <a href ng-click="searchModeTab.setTab(2)">Advanced Search</a>
				            </li>
			            </ul>
			            <br>			            
			            <!-- The query text box that contains the operations the user is interested in (shown in both advanced and simple search-->
						<div class="input-group">
							<span class="input-group-addon">
							<textarea ng-model="searchCtrl.searchQuery.operations" class="form-control" placeholder="Operations Query (separated by comma)" title="Operations"></textarea>
							</span>
						</div>
						<!-- advanced search tab options -->
			            <div ng-show="searchModeTab.isSet(2)">
			            	<div ng-controller="AdvancedTabController as advancedTab"><!--controller for tabs in the advance options set-->
				            	<div>
				            	    <fieldset class="form-group">
				        			    <input type="submit" class="btn btn-primary pull-right" ng-click="searchCtrl.doSearch()" value="Submit Query" />
				      			    </fieldset>
				      			</div>
				            	<ul class="nav nav-tabs"><!--the tabs of search-->
						        	<li ng-class="{active: advancedTab.isSet(1)}">
							            <a href ng-click="advancedTab.setTab(1)">Domains</a>
						            </li>
						          	<li ng-class="{active: advancedTab.isSet(2)}">
							            <a href ng-click="advancedTab.setTab(2)">SubDomains</a>
						            </li>
						            <li ng-class="{active: advancedTab.isSet(3)}">
							            <a href ng-click="advancedTab.setTab(3)">Requirements</a>
						            </li>
				            	</ul>
				            	<!--tab with the domains a user can choose-->
				            	<div ng-show="advancedTab.isSet(1)">
									<!--angular UI ---Select-->
			      				 	<h3>Domains of Interest (select only one or All)</h3>
									<h4> Pick only one (if you do not make a choice, All the domains will be selected)</h4>
								  	<ui-select ng-model="searchCtrl.searchQuery.domainQuery" theme="select2" ng-disabled="disabled" style="min-width: 300px;" ng-change="searchCtrl.subdomainJSON(searchCtrl.searchQuery.domainQuery)">
								    <ui-select-match placeholder="Select domain for the list or search for a domain...">{{$select.selected.Category}}</ui-select-match>
								    <ui-select-choices repeat="domain in searchCtrl.domains | filter: $select.search">
								      <div ng-bind-html="domain.Category | highlight: $select.search "></div>
								    </ui-select-choices>
								  	</ui-select>
									<!--<h3>Domains of Interest (select only one or All)</h3>
									<h4> Pick only one (if you do not make a choice, All the domains will be selected)</h4>
							    	<button type="button" class="btn btn-primary" ng-click="searchCtrl.uncheckAllDomains()">Uncheck all Domains</button> 
									<div class="list-group">
										<div ng-repeat="domain in searchCtrl.domains">
									      	<li class="list-group-item" ng-if="searchCtrl.parentFilter(domain)">
										        <input  type="checkbox" ng-model="searchCtrl.searchQuery.domainQuery" ng-True-value="{{domain}}" ng-false-value="false" ng-change="searchCtrl.setDomain(domain)">{{domain.Category}}
									      	</li>
								      	</div>
							    	</div><!-- /input-group -->
						    	</div>
						    	<!--tab with the subdomains the user can choose according to the domains selected-->
						    	<div ng-show="advancedTab.isSet(2)">
						    		<h3>Sub-Domains of Interest (Depend on your Domain selection)</h3>
						    		<h4> Pick only one (if you do not make a choice, All the subdomains will be selected)</h4>
							    	
						    		<ui-select ng-model="searchCtrl.searchQuery.subdomainQuery" theme="select2" ng-disabled="disabled" style="min-width: 300px;">
								    <ui-select-match placeholder="Select subdomain for the list or search for a subdomain...">{{$select.selected.Category}}</ui-select-match>
								    <ui-select-choices repeat="subdomain in searchCtrl.subdomains | filter: $select.search">
								      <div ng-bind-html="subdomain.Category | highlight: $select.search "></div>
								    </ui-select-choices>
								  	</ui-select>
						    	</div>
						    	<!--tab with the requirements classification as functional or non functionl or both-->
						    	<div ng-show="advancedTab.isSet(3)">
							    	<h3>Requirements Classification</h3>
								        <select ng-init="searchCtrl.searchQuery.requirementsClass = searchCtrl.requirementsClasses[0]" ng-model="searchCtrl.searchQuery.requirementsClass" ng-options="reqsClass.name for reqsClass in searchCtrl.requirementsClasses">
								        </select>
						     	</div>
					     	</div>
			            </div>
			            <br>
			            <div ng-show="searchModeTab.isSet(1)">
							<fieldset class="form-group">
					        	<input type="submit" class="btn btn-primary pull-right" ng-click="searchCtrl.doSearch()" value="Submit Query" />
					      	</fieldset>
				      	</div>
					</form>	
				</div>
			</div>
		</div>
        <!-- Requirements -->
        <div ng-show="tab.isSet(2)">
			<div class="panel panel-info">
		  		<div class="panel-heading">Requirements</div>
			  	<div class="panel-body" ng-controller="SearchController as searchCtrl">
				  	<ul class="list-group" ng-repeat="req in searchCtrl.requirements">
				  	  	<li class="list-group-item">Classification: {{req.requirement}}</li>
					  	<li class="list-group-item">Text: {{req.text}} </li>
					  	<li class="list-group-item">Belong to Project: {{req.projectId}}</li>
					  	<li class="list-group-item">Link to File: {{req.link}}</li>
					  	<li class="list-group-item">Language: {{req.language}}</li>
					</ul>
			  	</div>
		  	</div>
      	</div>
		<!-- Use case Diagrams -->
        <div ng-show="tab.isSet(3)">
	        <div class="panel panel-info">
			  	<div class="panel-heading">Use Case Diagrams</div>
			  	<div class="panel-body" ng-controller="SearchController as searchCtrl">
			  		<ul class="list-group" ng-repeat="usecasediagram in searchCtrl.usecasediagrams">
			  			<!-- separate panel for actors -->
			  			<li class="list-group-item">
				  			<div class="panel-heading">Actors</div>
				  			<div class="panel-body">
					 			<ul class="list-group">
					 				<li class="list-group-item" ng-repeat="actor in usecasediagram.actors">Actor: {{actor}}</li>
					 			</ul>
				 			</div>
			 			</li>
			 			<!-- separate panel for Use Cases -->
			 			<li class="list-group-item">
				  			<div class="panel-heading">Use Case</div>
				  			<div class="panel-body">
					 			<ul class="list-group">
					 				<li class="list-group-item" ng-repeat="usecase in usecasediagrams.usecases">Usecase:{{usecase}}</li>
					 			</ul>
				 			</div>
			 			</li>
					  	<li class="list-group-item">Belong to Project: {{usecase.projectId}}</li>
				  	  	<li class="list-group-item">Format: {{usecase.format}}</li>
					  	<li class="list-group-item">Link to File: {{usecase.link}}</li>
				  		<li class="list-group-item">Relation: {{req.relation}}</li>
					</ul>
			  	</div>
			</div> 
        </div>

		<!---display usecases data-->
        <div ng-show="tab.isSet(4)">
         	<div class = "usecases row" ng-controller="SearchController as searchCtrl" ng-repeat="usecase in searchCtrl.usecases">
		
			</div>
        </div>

        <!---display activitydiagrams data-->
        <div ng-show="tab.isSet(5)">
         	<div class = "activitydiagrams row" ng-controller="SearchController as searchCtrl" ng-repeat="acitivitydiagram in searchCtrl.activitydiagrams">
		
			</div>
        </div>

        <!---display classdiagrams data-->
        <div ng-show="tab.isSet(6)">
			<div class = "classdiagrams row" ng-controller="SearchController as searchCtrl" ng-repeat="classdiagram in searchCtrl.classdiagrams">
				
			</div>
        </div>

		<!---display storyboards data-->
        <div ng-show="tab.isSet(7)">
			<div class = "storyboards row" ng-controller="SearchController as searchCtrl" ng-repeat="storyboard in searchCtrl.storyboards ">
			
			</div>
        </div>

        <!---display sourcecodes data-->
        <div ng-show="tab.isSet(8)">
         	<div class = "sourcecodes row" ng-controller="SearchController as searchCtrl" ng-repeat="sourcecode in searchCtrl.sourcecodes">
		
			</div>
        </div>

        <!---display services data-->
        <div ng-show="tab.isSet(9)">
         	<div class = "services row"  ng-controller="SearchController as searchCtrl" ng-repeat="service in searchCtrl.scaseservices">
		
			</div>
        </div>

        
  	</section>
	
	
	
</body>
</html>
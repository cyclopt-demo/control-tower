<!doctype html>
<!-- the html of the QA -->
<html ng-app="qaApp">
<% include header %>
<% include navbar %>
<!-- SET THE CONTROLLER -->
<body class="container">
<!---Tabs creation, selection of active and set of default to the requirements tab-->
	<!--<section class="tab" ng-controller="TabController as tab">-->
	<section class="tab" ng-controller="TabController as tab">
		<!-- the tabs of our Search and our Results-->
        <ul class="nav nav-pills">
        	<li ng-class="{active: tab.isSet(1)}">
	            <a href ng-click="tab.setTab(1)">Search</a>
            </li>
          	<li ng-class="{active: tab.isSet(2)}">
	            <a href ng-click="tab.setTab(2)">Requirements</a>
            </li>
	        <li ng-class="{active: tab.isSet(3)}">
	            <a href ng-click="tab.setTab(3)">Use Case Diagrams</a>
            </li>
          	<li ng-class="{active: tab.isSet(4)}">
	            <a href ng-click="tab.setTab(4)">Activity Diagrams</a>
            </li>
            <li ng-class="{active: tab.isSet(5)}">
	            <a href ng-click="tab.setTab(5)">Analysis Class Diagrams</a>
            </li>
            <li ng-class="{active: tab.isSet(6)}">
	            <a href ng-click="tab.setTab(6)">Storyboards Diagrams</a>
            </li>
            <li ng-class="{active: tab.isSet(7)}">
	            <a href ng-click="tab.setTab(7)">Source Codes</a>
            </li>
            <li ng-class="{active: tab.isSet(8)}">
	            <a href ng-click="tab.setTab(8)">S-CASE services</a>
            </li>
        </ul>
        <!-- tab of search -->
        <div ng-show="tab.isSet(1)">
			<div class="panel panel-info">
		  		<div class="panel-heading"><h2 class="panel-title">Search</h2></div>
			  	<div class="panel-body" ng-controller="SearchController as searchCtrl"><!--Controller for the search options-->
			        <form name="queryForm" ng-controller="SearchModeTabController as searchModeTab"><!--controller for the simple or advanced search tabs-->
				        <ul class="nav nav-tabs"><!--the tabs of search modes-->
				        	<li ng-class="{active: searchModeTab.isSet(1)}">
					            <a href ng-click="searchModeTab.setTab(1)">Simple Search</a>
				            </li>
				          	<li ng-class="{active: searchModeTab.isSet(2)}">
					            <a href ng-click="searchModeTab.setTab(2)">Advanced Search</a>
				            </li>
			            </ul>
			            <br>			            
			            <!-- The query text box that contains the operations the user is interested in (shown in both advanced and simple search-->
						<div class="input-group">
							<span class="input-group-addon">
							<textarea ng-model="searchCtrl.searchQuery.operations" class="form-control" placeholder="Operations Query (separated by comma)" title="Operations"></textarea>
							</span>
						</div>
						<!-- advanced search tab options -->
			            <div ng-show="searchModeTab.isSet(2)">
			            	<div>
			            	    <fieldset class="form-group">
			        			    <input type="submit" class="btn btn-primary pull-right" ng-click="searchCtrl.doSearch()" value="Submit Query" />
			      			    </fieldset>
			      			</div>
							<!--angular UI-Select-->
	      				 	<h3>Domains of Interest (select only one or All)</h3>
							<h4> Pick only one (if you do not make a choice, All the domains will be selected)</h4>
						  	<ui-select ng-model="searchCtrl.searchQuery.domainQuery" theme="bootstrap" ng-disabled="disabled" style="min-width: 300px;" ng-change="searchCtrl.subdomainJSON(searchCtrl.searchQuery.domainQuery)">
						    	<ui-select-match placeholder="Select domain for the list or search for a domain...">{{$select.selected.Category}}</ui-select-match>
							    <ui-select-choices repeat="domain in searchCtrl.domains | filter: $select.search">
						      	<div ng-bind-html="domain.Category | highlight: $select.search "></div>
							    </ui-select-choices>
						  	</ui-select>

					    	<h3>Sub-Domains of Interest (Depending on your Domain selection)</h3>
				    		<h4> Pick only one (if you do not make a choice, All the subdomains will be selected)</h4>
					    	
				    		<ui-select ng-model="searchCtrl.searchQuery.subdomainQuery" theme="bootstrap" ng-disabled="!searchCtrl.subdomains.length" style="min-width: 300px;">
							    <ui-select-match placeholder="Select subdomain for the list or search for a subdomain...">{{$select.selected.Category}}</ui-select-match>
							    <ui-select-choices repeat="subdomain in searchCtrl.subdomains | filter: $select.search">
						      	<div ng-bind-html="subdomain.Category | highlight: $select.search "></div>
							    </ui-select-choices>
						  	</ui-select>

						  	<h3>Requirements Classification</h3>
					        <select ng-init="searchCtrl.searchQuery.requirementsClass = searchCtrl.requirementsClasses[2]" ng-model="searchCtrl.searchQuery.requirementsClass" ng-options="reqsClass.name for reqsClass in searchCtrl.requirementsClasses">
					        </select>
			            </div>
			            <br>
			            <div ng-show="searchModeTab.isSet(1)">
							<fieldset class="form-group">
					        	<input type="submit" class="btn btn-primary pull-right" ng-click="searchCtrl.doSearch()" value="Submit Query" />
					      	</fieldset>
				      	</div>
					</form>	
				</div>
			</div>
		</div>
        <!-- Requirements -->
        <div ng-show="tab.isSet(2)">
			<div class="panel panel-info">
		  		<div class="panel-heading">Requirements</div>
			  	<div class="panel-body" ng-controller="SearchController as searchCtrl">
				  	<ul class="list-group" ng-repeat="req in searchCtrl.requirements">
				  	  	<li class="list-group-item">Classification: {{req.requirement}}</li>
					  	<li class="list-group-item">Text: {{req.text}} </li>
					  	<li class="list-group-item">Belong to Project: {{req.projectId}}</li>
					  	<li class="list-group-item">Link to File: {{req.link}}</li>
					  	<li class="list-group-item">Language: {{req.language}}</li>
					</ul>
			  	</div>
		  	</div>
      	</div>
		<!-- Use case Diagrams -->
        <div ng-show="tab.isSet(3)">
	        <div class="panel panel-info">
			  	<div class="panel-heading">Use Case Diagrams</div>
			  	<div class="panel-body" ng-controller="SearchController as searchCtrl">
			  		<ul class="list-group" ng-repeat="usecasediagram in searchCtrl.usecasediagrams">
			  			<!-- separate panel for actors -->
			  			<li class="list-group-item">
				  			<div class="panel-heading">Actors</div>
				  			<div class="panel-body">
					 			<ul class="list-group">
					 				<li class="list-group-item" ng-repeat="actor in usecasediagram.actors">Actor: {{actor}}</li>
					 			</ul>
				 			</div>
			 			</li>
			 			<!-- separate panel for Use Cases -->
			 			<li class="list-group-item">
				  			<div class="panel-heading">Use Case</div>
				  			<div class="panel-body">
					 			<ul class="list-group">
					 				<li class="list-group-item" ng-repeat="usecase in usecasediagrams.usecases">Usecase:{{usecase}}</li>
					 			</ul>
				 			</div>
			 			</li>
					  	<li class="list-group-item">Belong to Project: {{usecasediagram.projectId}}</li>
				  	  	<li class="list-group-item">Format: {{usecasediagram.format}}</li>
					  	<li class="list-group-item">Link to File: {{usecasediagram.link}}</li>
				  		<li class="list-group-item">Relation: {{usecasediagram.relation}}</li>
					</ul>
			  	</div>
			</div> 
        </div>

        <!---display activitydiagrams data-->
        <div ng-show="tab.isSet(4)">
			 <div class="panel panel-info">
			  	<div class="panel-heading">Activity Diagrams</div>
			  	<div class="panel-body" ng-controller="SearchController as searchCtrl">
			  		<ul class="list-group" ng-repeat="activitydiagram in searchCtrl.activitydiagrams">
			  			<!-- separate panel for actors -->
			  			<li class="list-group-item">
				  			<div class="panel-heading">Actions</div>
				  			<div class="panel-body">
					 			<ul class="list-group">
					 				<li class="list-group-item" ng-repeat="action in activitydiagram.actions">Action: {{action}}</li>
					 			</ul>
				 			</div>
			 			</li>
					  	<li class="list-group-item">Belong to Project: {{activitydiagram.projectId}}</li>
				  	  	<li class="list-group-item">Format: {{activitydiagram.format}}</li>
					  	<li class="list-group-item">Link to File: {{activitydiagram.link}}</li>
				  		<li class="list-group-item">Relation: {{activitydiagram.relation}}</li>
					</ul>
			  	</div>
			</div> 
        </div>

        <!---display classdiagrams data-->
        <div ng-show="tab.isSet(5)">
			<div class="panel panel-info">
			  	<div class="panel-heading">Analysis Class Diagrams</div>
			  	<div class="panel-body" ng-controller="SearchController as searchCtrl">
			  		<ul class="list-group" ng-repeat="classdiagram in searchCtrl.classdiagrams">
			  			<!-- separate panel for classes-->
			  			<li class="list-group-item">
				  			<div class="panel-heading">Classes</div>
				  			<div class="panel-body">
					 			<ul class="list-group">
					 				<li class="list-group-item" ng-repeat="class in classdiagram.classes">Class Name: {{class.name}} <li class="list-group-item" ng-repeat="property in class.properties">Property ({{property.type}}): {{property.name}}</li> </li>
					 			</ul>
				 			</div>
			 			</li>
					  	<li class="list-group-item">Belong to Project: {{classdiagram.projectId}}</li>
				  	  	<li class="list-group-item">Format: {{classdiagram.format}}</li>
					  	<li class="list-group-item">Link to File: {{classdiagram.link}}</li>
				  		<li class="list-group-item">Relation: {{classdiagram.relation}}</li>
					</ul>
			  	</div>
			</div> 
        </div>

		<!---display storyboards data-->
        <div ng-show="tab.isSet(6)">
			
			 <div class="panel panel-info">
			  	<div class="panel-heading">Storyboards</div>
			  	<div class="panel-body" ng-controller="SearchController as searchCtrl">
			  		<ul class="list-group" ng-repeat="storyboard in searchCtrl.storyboards">
			  			<!-- separate panel for actions -->
			  			<li class="list-group-item">
				  			<div class="panel-heading">Actions</div>
				  			<div class="panel-body">
					 			<ul class="list-group">
					 				<li class="list-group-item" ng-repeat="action in storyboard.actions">Action: {{action}}</li>
					 			</ul>
				 			</div>
			 			</li>
					  	<li class="list-group-item">Belong to Project: {{storyboard.projectId}}</li>
				  	  	<li class="list-group-item">Format: {{storyboard.format}}</li>
					  	<li class="list-group-item">Link to File: {{storyboard.link}}</li>
				  		<li class="list-group-item">Relation: {{storyboard.relation}}</li>
					</ul>
			  	</div>
			</div> 
        </div>

        <!---display sourcecodes data-->
        <div ng-show="tab.isSet(7)">
			<div class="panel panel-info">
			  	<div class="panel-heading">Storyboards</div>
			  	<div class="panel-body" ng-controller="SearchController as searchCtrl">
			  		<ul class="list-group" ng-repeat="sourcecode in searchCtrl.sourcecodes">
					  	<li class="list-group-item">Belong to Project: {{sourcecode.projectId}}</li>
					  	<li class="list-group-item">Link to File: {{sourcecode.link}}</li>
					</ul>
			  	</div>
			</div> 
        </div>

        <!---display services data-->
        <div ng-show="tab.isSet(8)">
			<div class="panel panel-info">
			  	<div class="panel-heading">Services</div>
			  	<div class="panel-body" ng-controller="SearchController as searchCtrl">
			  		<ul class="list-group" ng-repeat="service in searchCtrl.scaseservices">
			  			<li class="list-group-item">Link to Domain Ontology: {{service.domainOntology}}</li>
					  	<li class="list-group-item">Belong to Project: {{service.projectId}}</li>
					  	<li class="list-group-item">Link to File: {{service.link}}</li>
					</ul>
			  	</div>
			</div> 
        </div>

        
  	</section>
	
	
	
</body>
</html>